@model MBBVL.Models.SequencingWrapperModel

@{
    ViewBag.Title = "Sequencing";
}

<script src="~/js/NewRows.js"></script>
<style>
    .table {
        max-width: none;
        table-layout: fixed;
        word-wrap: break-word;
    }
</style>
<h2>Order</h2>

<span style="padding-top:100px">

</span>

<form name="dnaForm" ng-app="acgt" ng-controller="OrderSequencing" class="form-horizontal" novalidate>
    @if (!Request.IsAuthenticated) {
        <div class="panel panel-primary">
            <div class="panel-heading">
                <h3 class="panel-title"> You have an option to log in so we can keep you in our records</h3>
                <a class="btn btn-lg btn-primary" href="@Url.Action("Login", "Account")">Log in </a>
            </div>
        </div>
    }
    <div>

        <div class="panel panel-primary">
            <div class="panel-heading">
                <h3 class="panel-title"> DNA Sequencing Order Form</h3>
            </div>

            <div class="panel-body">
                <fieldset>
                    <legend> DNA Sequencing Order Form</legend>
                    <div class="col-lg-3">

                        <div class="form-group row">
                            <div class="col-lg-10">
                                <button class="btn btn-default" ng-click="AddSampleRow()"><span class="glyphicon glyphicon-plus-sign"></span> Add Row</button>
                            </div>
                        </div>
                    </div>
                </fieldset>
                <table class="panel-body">
                    <thead>
                        <tr>
                            <th>Sample Name</th>
                            <th>Sample  Conc. (ng/µl)</th>
                            <th>Vector Name or PCR Product</th>
                            <th>Length (bases)</th>
                            <th>Primer Name </th>
                            <th>Primer Conc (ng/µl) </th>
                            <th>GMP (Y/N) </th>

                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="dna in NavigationConfig">

                            <td>
                                <input type="text" class="form-control" id="txtSampleName" name="SampleName" ng-model="dna.SampleName" placeholder="Enter Sample Name" title="Sample Name" required>
                                <span ng-show="dnaForm.SampleName.$dirty && dnaForm.SampleName.$invalid">  </span>
                                <span style="color:red" ng-show="dnaForm.SampleName.$error.required">Sample Name is required.</span>
                            </td>
                            <td>
                                <input type="text" class="form-control" id="txtSameConc" name="txtSameConc" ng-model="dna.SameConc" placeholder="EnterSample  Conc" title="Sample  Conc. (ng/µl)">

                            </td>
                            <td>
                                <input type="text" class="form-control" id="txtColumnName" name="txtVectorName" ng-model="dna.VectorName" placeholder="Vector Name or PCR Product" title="Vector Name or PCR Product">

                            </td>
                            <td>
                                <input type="text" class="form-control" id="txtColumnName" name="txtLengthBases" ng-model="dna.LengthBases" placeholder="Enter Length (bases)" title="Length (bases)">

                            </td>
                            <td>
                                <input type="text" class="form-control" id="txtPrimerName" name="txtPrimerName" ng-model="dna.PrimerName" placeholder="Enter Primer Name" title="Enter Primer Name">

                            </td>
                            <td>
                                <input type="text" class="form-control" id="txtPrimerConc" name="txtPrimerConc" ng-model="dna.PrimerConc" placeholder="Enter Primer Conc" title="Primer Conc (ng/µl)">

                            </td>
                            <td>
                                <select id="orderSequencingSelect" name="ordersequencingSelect" ng-change="keyPressDnaGmp($index,dnaGmp)" ng-model="dnaGmp" ng-options="user.value as user.name for user in dna.GMP3"></select>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="panel panel-primary">
            <div class="panel-heading">
                <h3 class="panel-title">Select Data Delivery Options</h3>
            </div>
            <div class="panel-body">
                <fieldset>
                    <legend>All sequencing results are sent by email. (Please select only one option) </legend>
                </fieldset>


                <div class="row">
                    <div class="col-md-2 control-label">
                        <label for="InputFieldA">($5.00) Unedited Sequence Results [Chromatogram Trace]</label>
                        <div class="col-md-10">
                            <input type="checkbox" ng-model="SequencingWrapperModel.DataDeliveryOptions.UneditedChromatogramTrace" ng-true-value="yes" ng-false-value="no" />
                        </div>
                    </div>
                    <div class="col-md-2 control-label">
                        <label for="InputFieldA">($10.00) Edited sequence results [Text Data]</label>

                        <div class="col-md-10">
                            <input type="checkbox" ng-model="SequencingWrapperModel.DataDeliveryOptions.EditedTextData" ng-true-value="yes" ng-false-value="no" />
                        </div>
                    </div>
                    <div class="col-lg-2 control-label">
                        <label for="InputFieldA">($10.00) Edited Sequence Results [Text Data + Chromatogram Trace]</label>
                        <div class="col-md-10">
                            <input type="checkbox" ng-model="SequencingWrapperModel.DataDeliveryOptions.TextDataAndChromatogramTrace" ng-true-value="yes" ng-false-value="no" />
                        </div>
                    </div>
                    <div class="col-md-2 control-label">
                        <label for="InputFieldA">($5.00) Unedited Sequence Results [Text + Chromatogram Trace]</label>

                        <div class="col-md-10">
                            <input type="checkbox" ng-model="SequencingWrapperModel.DataDeliveryOptions.UneditedTextAndChromatogramTrace" ng-true-value="yes" ng-false-value="no" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="panel panel-primary">
            <div class="panel-heading">
                <h3 class="panel-title">Custom Primers to be Synthesized & Used for Sequencing</h3>
            </div>
            <div class="panel-body">
                <fieldset>
                    <legend>Custom Primers to be Synthesized & Used for Sequencing</legend>
                    <div class="col-lg-3">

                        <div class="form-group row">
                            <div class="col-lg-10">
                                <input class="img-rounded" type="button" ng-click="AddCustomPrimer()" id="btnAddCustomPrimers" value="Add more rows" />
                            </div>
                        </div>
                    </div>


                </fieldset>
                <table class="panel-body" id="addRow">
                    <thead>
                        <tr>
                            <th>Primer Name</th>
                            <th>Scale</th>
                            <th>Sequence</th>
                            <th>Purification</th>
                            <th>GMP Y/N </th>


                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="rows in CustomPrimer">

                            <td>
                                <input type="text" class="form-control" id="txtPrimerName" name="txtPrimerName" ng-model="rows.PrimerName" placeholder="Enter Primer Name" title="Sample Name">

                            </td>
                            <td>
                                <select id="scaleValues2" name="scaleValues2" ng-change="keyPressCustomPrimer($index,scaleValues2)" ng-model="scaleValues2" ng-options="user.name as user.value for user in rows.Scale"></select>
                            </td>
                            <td>
                                <input type="text" class="form-control" id="txtSequence" name="txtSequence" ng-model="rows.Sequence" placeholder="Sequence" title="Sequence">

                            </td>
                            <td>
                                <select id="ddlPurification" name="ddlPurification" ng-model="Purification2" ng-options="user.value as user.name for user in rows.Purification"></select>
                            </td>

                            <td>
                                <select id="ddlGmp" name="ddlGmp" ng-model="ddlGmp" ng-change="keyPressGmp($index,ddlGmp)" ng-options="user.value as user.name for user in rows.GMP"></select>
                            </td>
                        </tr>
                    <tbody>
                </table>
            </div>
        </div>

        <div class="panel panel-primary">
            <div class="panel-heading">
                <h3 class="panel-title">Request for Pick Up</h3>
            </div>
            <div class="panel-body">
                <div class="row">
                    <label class="col-md-2 control-label" for="InputFieldA">
                       
                            <button type="button" style="color:red" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                       
                    </label>
                    <div class="col-md-10">
                        <input type="text" name="RequestDate" class="form-control" datepicker-popup="{{format}}" ng-model="SequencingWrapperModel.Shipping.ShippingDate" is-open="opened" min-date="minDate" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" close-text="Close" required />
                        <span  ng-show="dnaForm.RequestDate.$dirty && dnaForm.RequestDate.$invalid">  </span>
                        <span style="color:red" ng-show="dnaForm.RequestDate.$error.required">Date is required.</span>
                      
                    </div>
                </div>


                <div class="control-group">
                    <label class="col-md-2 control-label" for="InputFieldA">Full Name</label>
                    <div class="col-md-10">
                        <input type="text" class="form-control" id="FullName" name="FullName" ng-model="SequencingWrapperModel.Shipping.FullName" placeholder="FullName" title="FullName">

                    </div>
                </div>
                <div class="control-group">
                    <label class="col-md-2 control-label" for="InputFieldA">Institution</label>

                    <div class="col-md-10">
                        <input type="text" class="form-control" id="Institution" name="Institution" ng-model="SequencingWrapperModel.Shipping.Institution" placeholder="Institution" title="Institution">

                    </div>
                </div>
                <div class="control-group">
                    <label class="col-md-2 control-label" for="InputFieldA">Shipping Address</label>
                    <div class="col-md-10">
                        <input type="text" class="form-control" id="txtShippingAddress" name="txtShippingAddress" ng-model="SequencingWrapperModel.Shipping.ShippingAddress" placeholder="Shipping Address" title="Shipping Address">

                    </div>
                </div>
                <div class="control-group">
                    <label class="col-md-2 control-label" for="InputFieldA">Phone</label>
                    <div class="col-md-10">
                        <input type="text" class="form-control" id="Phone" name="Phone" ng-model="SequencingWrapperModel.Shipping.Phone" placeholder="Shipping Phone" title="Shipping Phone">


                    </div>
                </div>
                <div class="control-group">

                    <label class="col-md-2 control-label" for="ShippingEmail">Email</label>
                    <div class="col-md-10">
                        <input type="email" class="form-control" name="ShippingEmail" ng-model="SequencingWrapperModel.Shipping.Email" placeholder="Shipping Email" title="Shipping Email" required>
                        <span  ng-show="dnaForm.ShippingEmail.$dirty && dnaForm.ShippingEmail.$invalid"></span>
                        <span style="color:red" ng-show="dnaForm.ShippingEmail.$error.required">Email is required.</span>
                    </div>
                </div>
                <div class="row">

                    <div class="col-xs-9 col-sm-9 col-md-9">
                        <a href="#" data-toggle="modal" data-target="#t_and_c_m">Pick up policy</a>
                    </div>
                </div>

            </div>
        </div>
        <div class="panel panel-primary">
            <div class="panel-heading">
                <h3 class="panel-title">Billing Information</h3>
            </div>
            <div class="panel-body">
                <div class="tab-pane" id="profile">
                    <fieldset>
                        <div class="control-group">
                            <label class="col-md-2 control-label" for="InputFieldA">Quote number</label>

                            <div class="col-md-10">
                                <input type="text" class="form-control" id="txtQuotenumber" name="txtQuotenumber" ng-model="SequencingWrapperModel.Billing.Quotenumber" placeholder="Quote number" title="Quote number">

                            </div>
                        </div>
                        <div class="control-group">
                            <label class="col-md-2 control-label" for="InputFieldA">Full Name</label>
                            <div class="col-md-10">
                                <input type="text" class="form-control" id="txtBillingFullName" name="txtBillingFullName" ng-model="SequencingWrapperModel.Billing.FullName" placeholder="Full Name" title="Full Name">

                            </div>
                        </div>
                        <div class="control-group">
                            <label class="col-md-2 control-label" for="InputFieldA">Institution</label>
                            <div class="col-md-10">
                                <input type="text" class="form-control" id="txtBillingInstitution" name="txtBillingInstitution" ng-model="SequencingWrapperModel.Billing.Institution" placeholder="Billing Institution" title="Billing Institution">
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="col-md-2 control-label" for="InputFieldA">BillingAddress</label>
                            <div class="col-md-10">
                                <input type="text" class="form-control" id="Address" name="Address" ng-model="SequencingWrapperModel.Billing.BillingAddress" placeholder="Billing Address" title="Billing Institution">

                            </div>
                        </div>
                        <div class="control-group">
                            <label class="col-md-2 control-label" for="InputFieldA">Billing Phone</label>
                            <div class="col-md-10">
                                <input type="text" class="form-control" id="Phone" name="Phone" ng-model="SequencingWrapperModel.Billing.Phone" placeholder="Billing Phone" title="Billing Phone">
                                
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="col-md-2 control-label" for="InputFieldA">Billing Email</label>
                            <div class="col-md-10">
                                <input type="email" class="form-control" id="billingEmail" name="billingEmail" ng-model="SequencingWrapperModel.Billing.Email" required placeholder="Billing Email" title="Billing Email">
                                <span ng-show="dnaForm.billingEmail.$dirty && dnaForm.billingEmail.$invalid"></span>
                                <span style="color:red" ng-show="dnaForm.billingEmail.$error.required">Email is required.</span>
                            </div>
                        </div>
                    </fieldset>
                </div>
            </div>
        </div>
        <div class="panel panel-primary">
            <div class="panel-heading">
                <h3 class="panel-title">Notes</h3>
            </div>
            <div class="panel-body">
                <textarea name="txtNotes" ng-model="SequencingWrapperModel.Billing.Notes" cols="100" rows="5"></textarea>
            </div>
        </div>
        <input type="submit" class="btn btn-primary" ng-click="submitForm()" ng-disabled="!dnaForm.$valid">
 </div>

</form>
<!-- Modal -->
<div class="modal fade" id="t_and_c_m" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h4 class="modal-title" id="myModalLabel">Terms & Conditions</h4>
            </div>
            <div class="modal-body">
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Similique, itaque, modi, aliquam nostrum at sapiente consequuntur natus odio reiciendis perferendis rem nisi tempore possimus ipsa porro delectus quidem dolorem ad.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">I Agree</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
